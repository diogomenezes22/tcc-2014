<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<body>
	<ui:composition template="../templates/templatesemheader.xhtml">
	 	<ui:define name="content">
		    <div class="container">			  
					<div class="row">
						<div class="col-md-12">
							<div class="home test-center">
								<h1>Manter Perguntas</h1>
								<!-- a4j:status onstart="#{rich:component('statPane')}.show()" onstop="#{rich:component('statPane')}.hide()" /-->   
								<h:form id="perguntaRespForm" styleClass="form-horizontal">																
									<div id="pergunta" class="form-group" >
										<h:outputText value="Pergunta: " styleClass="col-sm-2 control-label"/>
										<div class="col-sm-10"> 
											<h:inputTextarea  label="Nome" maxlength="500" styleClass="form-control" value="#{perguntaRespostaController.pergunta.descricao}" />
										</div>
									
										<h:outputText value="Marque uma alternativa correta para pergunta:" styleClass="col-sm-2 control-label"/>
										<h:selectOneRadio  value="#{perguntaRespostaController.opcaoCorreta}" >
												<f:selectItem itemValue="0" itemLabel="A "/>
												<f:selectItem itemValue="1" itemLabel="B "/>
												<f:selectItem itemValue="2" itemLabel="C "/>
												<f:selectItem itemValue="3" itemLabel="D "/>												
										</h:selectOneRadio>
													<h:inputText title="A" label="Reposta A" maxlength="400" autocomplete="off" value="#{perguntaRespostaController.pergunta.respostas[0].descricao}" styleClass="form-control"/>
													<br/>
													<h:inputText  label="Reposta B" autocomplete="off" maxlength="400" value="#{perguntaRespostaController.pergunta.respostas[1].descricao}" styleClass="form-control"/>
													<br/>
													<h:inputText label="Reposta C" autocomplete="off" maxlength="400" value="#{perguntaRespostaController.pergunta.respostas[2].descricao}" styleClass="form-control"/>
													<br/>
													<h:inputText label="Reposta D" autocomplete="off" maxlength="400" value="#{perguntaRespostaController.pergunta.respostas[3].descricao}" styleClass="form-control"/>
									</div>
									<rich:dataTable id="tabelaPerguntas" iterationStatusVar="it" value="#{perguntaRespostaController.perguntas}" var="pergunta" rendered="#{perguntaRespostaController.perguntas.size() > 0}" rows="2">										 
                						<f:facet name="header">
                								<h:outputText value="Perguntas " />
                						</f:facet>
                						<rich:column>
                								<f:facet name="header">ID</f:facet>
                								<h:outputText value="#{pergunta.id}" styleClass="form-control"/>                								
                						<f:facet name="footer">ID</f:facet>
        								</rich:column>
                						<rich:column>
                								<f:facet name="header">Descrição</f:facet>
                								<h:outputText value="#{pergunta.descricao}" styleClass="form-control"/>                								
                						<f:facet name="footer">Descrição</f:facet>
        								</rich:column>
                						<rich:column>
                								<f:facet name="header">Resposta Correta</f:facet>
                								<h:outputText value="#{pergunta.respostaCorreta.descricao}" styleClass="form-control"/>                								
                						<f:facet name="footer">Resposta Correta</f:facet>
        								</rich:column>
                						<rich:column>
                							 <a4j:commandLink styleClass="form-control" render="perguntaRespForm" execute="@this">
							                    <h:graphicImage value="/resources/img/edit.gif" alt="edit" />							                    
							                    <f:setPropertyActionListener target="#{perguntaRespostaController.pergunta}" value="#{pergunta}" />
							                </a4j:commandLink>
        								</rich:column>
        								<f:facet name="footer">        				
                								 <rich:dataScroller render="tabelaPerguntas" for="tabelaPerguntas"  page="#{perguntaRespostaController.pagina}"/>                								
                						</f:facet>									
									</rich:dataTable>
									<br/>
									<br/>
									<br/>
									<h:commandLink action="salvar" style="margin-right:15px;" value="salvar" styleClass="btn btn-primary" actionListener="#{perguntaRespostaController.salvar()}" />
									<h:commandLink action="buscar"  style="margin-left:15px;" value="Buscar" styleClass="btn btn-primary" actionListener="#{perguntaRespostaController.buscar()}" />
										<rich:popupPanel id="statPane" autosized="true">
								            <h:graphicImage value="/resources/img/load.gif" alt="load" />
								            Aguarde...
								        </rich:popupPanel>	
								</h:form>
							</div>
						</div>
					</div>
				</div>
			</ui:define>
		</ui:composition>
	</body>
</html>